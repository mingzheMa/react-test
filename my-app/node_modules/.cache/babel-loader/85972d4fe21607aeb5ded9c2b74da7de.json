{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/marx/Downloads/react-test/practice/react/my-app/src/components/Page/index.js\";\nimport React, { Component } from \"react\";\nimport \"./index.css\";\nexport default class index extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      current: this.props.current || 1,\n      pageSize: this.props.pageSize || 10,\n      total: this.props.total || 0,\n      showSizer: this.props.showSizer || false,\n      showTotal: this.props.showTotal || false,\n      previewPage: this.props.showTotal || 5\n    };\n\n    this.toPage = page => {\n      if (page > 0 && page <= this.getPageNum() && page !== this.state.current) {\n        this.setState({\n          current: page\n        });\n        this.props.onChange && this.props.onChange(page);\n      }\n    };\n  }\n\n  //   获取总页数\n  getPageNum() {\n    const {\n      total,\n      pageSize\n    } = this.state;\n    return Math.ceil(total / pageSize);\n  } //   是否为开头\n\n\n  isStart() {\n    return this.state.current === 1;\n  } //   是否未结尾\n\n\n  isEnd() {\n    return this.state.current === this.getPageNum();\n  } //   跳转分页\n\n\n  // 预览页\n  previewPage() {\n    const all = this.getPageNum();\n    const cur = this.state.current;\n    const prv = this.state.previewPage;\n    const min = cur - Math.floor(prv / 2);\n    const minPage = min > 0 ? min : 1;\n    const max = minPage + prv - 1;\n    const maxPage = max > all ? all : max;\n    const pages = [];\n\n    for (let i = minPage; i <= maxPage; i++) {\n      pages.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        className: cur === i ? \"page-item page--select\" : \"page-item\",\n        onClick: () => this.toPage(i),\n        children: i\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this));\n    }\n\n    return pages;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"page\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: this.isStart() ? \"page-item page--disable\" : \"page-item\",\n        onClick: () => this.toPage(1),\n        children: \"\\u9996\\u9875\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: this.isStart() ? \"page-item page--disable\" : \"page-item\",\n        onClick: () => this.toPage(this.state.current - 1),\n        children: \"\\u4E0A\\u4E00\\u9875\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), this.previewPage(), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: this.isEnd() ? \"page-item page--disable\" : \"page-item\",\n        onClick: () => this.toPage(this.state.current + 1),\n        children: \"\\u4E0B\\u4E00\\u9875\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: this.isEnd() ? \"page-item page--disable\" : \"page-item\",\n        onClick: () => this.toPage(this.getPageNum()),\n        children: \"\\u5C3E\\u9875\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [this.state.current, \" / \", this.getPageNum()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/marx/Downloads/react-test/practice/react/my-app/src/components/Page/index.js"],"names":["React","Component","index","state","current","props","pageSize","total","showSizer","showTotal","previewPage","toPage","page","getPageNum","setState","onChange","Math","ceil","isStart","isEnd","all","cur","prv","min","floor","minPage","max","maxPage","pages","i","push","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./index.css\";\n\nexport default class index extends Component {\n  state = {\n    current: this.props.current || 1,\n    pageSize: this.props.pageSize || 10,\n    total: this.props.total || 0,\n    showSizer: this.props.showSizer || false,\n    showTotal: this.props.showTotal || false,\n    previewPage: this.props.showTotal || 5\n  };\n\n  //   获取总页数\n  getPageNum() {\n    const { total, pageSize } = this.state;\n    return Math.ceil(total / pageSize);\n  }\n\n  //   是否为开头\n  isStart() {\n    return this.state.current === 1;\n  }\n\n  //   是否未结尾\n  isEnd() {\n    return this.state.current === this.getPageNum();\n  }\n\n  //   跳转分页\n  toPage = page => {\n    if (page > 0 && page <= this.getPageNum() && page !== this.state.current) {\n      this.setState({\n        current: page\n      });\n      this.props.onChange && this.props.onChange(page);\n    }\n  };\n\n  // 预览页\n  previewPage() {\n    const all = this.getPageNum();\n    const cur = this.state.current;\n    const prv = this.state.previewPage;\n    const min = cur - Math.floor(prv / 2);\n    const minPage = min > 0 ? min : 1;\n\n    const max = minPage + prv - 1;\n    const maxPage = max > all ? all : max;\n\n    const pages = [];\n    for (let i = minPage; i <= maxPage; i++) {\n      pages.push(\n        <li\n          className={cur === i ? \"page-item page--select\" : \"page-item\"}\n          onClick={() => this.toPage(i)}\n          key={i}>\n          {i}\n        </li>\n      );\n    }\n\n    return pages;\n  }\n\n  render() {\n    return (\n      <ul className=\"page\">\n        <li\n          className={this.isStart() ? \"page-item page--disable\" : \"page-item\"}\n          onClick={() => this.toPage(1)}>\n          首页\n        </li>\n        <li\n          className={this.isStart() ? \"page-item page--disable\" : \"page-item\"}\n          onClick={() => this.toPage(this.state.current - 1)}>\n          上一页\n        </li>\n        {this.previewPage()}\n        <li\n          className={this.isEnd() ? \"page-item page--disable\" : \"page-item\"}\n          onClick={() => this.toPage(this.state.current + 1)}>\n          下一页\n        </li>\n        <li\n          className={this.isEnd() ? \"page-item page--disable\" : \"page-item\"}\n          onClick={() => this.toPage(this.getPageNum())}>\n          尾页\n        </li>\n\n        <li>\n          {this.state.current} / {this.getPageNum()}\n        </li>\n      </ul>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}